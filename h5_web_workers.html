<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

	<title>web worker</title>
</head>
<body>
	<p>计数：<output id="result"></output></p>
	<button onclick="startWorker()">开始 worker</button>
	<button onclick="stopWorker()">停止 worker</button>
	<br><br>

<script type="text/javascript">
	var w;

	function startWorker(){
		if(typeof(worker) !== "undefined"){
			if(typeof(w) == "undefined"){
				w = new Worker("js/demo_worker.js");
			}
			w.onmessage = function(event){
				document.getElementById("result").innerHTML = event.data;
			};
		}else{
			document.getElementById("result").innerHTML = "抱歉你的游览器不支持网红" 

		}
	}

	function stopWorker(){
		w.terminate(),
		// w=undefined;
	}


</script>

</body>
</html>
